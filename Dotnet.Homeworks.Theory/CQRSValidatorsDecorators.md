# Домашняя работа №7

## CQRS Validation

### Если вдруг проспал, на семинаре было
1) Для чего нужны декораторы?
2) Применяем декораторы для Railway-oriented programming в ООП языке.
3) Библиотека FluentValidation.

### Теория
1. [Паттерн декоратор](https://metanit.com/sharp/patterns/4.1.php).
2. [Документация](https://docs.fluentvalidation.net) по FluentValidation.
3. [О декораторах, сквозной функциональности, CQRS и слоеной архитектуре](https://habr.com/ru/articles/353258/)

### Практика
1. Реализовать все классы в папках Users и UsersManagement в проекте **Features**.
2. **Создать свой медиатор**, который реализует **IMediator**, и использовать его вместо MediatR в контроллерах.
3. Создать декораторы, которые будут проверять права доступа к операции через **IHttpContextAccessor**, а также проводить валидацию данных для UsersManagement. Построить цепочку из декораторов с помощью наследования, вызов которых начинается с **CqrsDecorator**.
4. **Создать свой PipelineBehavior**, наподобие оного от MediatR, который будет делать то же самое, что и декоратор, но для операций Users. Хранить в папке Behaviors проекта Features. 
